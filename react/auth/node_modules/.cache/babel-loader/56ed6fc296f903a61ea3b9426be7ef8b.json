{"ast":null,"code":"var _jsxFileName = \"/Users/tomas/Documents/firebase/react/auth/src/components/TimesList.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport firebase from \"firebase/app\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TimesList = () => {\n  _s();\n\n  const [times, setTimes] = useState([]);\n  useEffect(() => {\n    const timesRef = firebase.database().ref(\"times\").orderByChild(\"user_id\").equalTo(firebase.auth().currentUser.uid);\n    timesRef.on(\"value\", snapshot => {\n      const timesObj = snapshot.val();\n      if (!timesObj) return;\n      const newTimes = Object.keys(timesObj).map(id => ({\n        id,\n        ...timesObj[id]\n      }));\n      setTimes(newTimes);\n    });\n    return () => timesRef.off();\n  }, []);\n\n  const handleDelete = id => {\n    firebase.database().ref(`times/${id}`).remove();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Times List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n      children: times.map(time => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"time-entry\",\n          children: [time.title, /*#__PURE__*/_jsxDEV(\"code\", {\n            className: \"time\",\n            children: time.time_seconds\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDelete(time.id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 23\n        }, this)\n      }, time.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 19\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 7\n  }, this);\n};\n\n_s(TimesList, \"81bowZj0s+OEa3RiisSpRGrXe+U=\");\n\n_c = TimesList;\nexport default TimesList;\n\nvar _c;\n\n$RefreshReg$(_c, \"TimesList\");","map":{"version":3,"sources":["/Users/tomas/Documents/firebase/react/auth/src/components/TimesList.jsx"],"names":["useEffect","useState","firebase","TimesList","times","setTimes","timesRef","database","ref","orderByChild","equalTo","auth","currentUser","uid","on","snapshot","timesObj","val","newTimes","Object","keys","map","id","off","handleDelete","remove","time","title","time_seconds"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,QAAP,MAAqB,cAArB;;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAAA;;AACtB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAAC,EAAD,CAAlC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMM,QAAQ,GAAGJ,QAAQ,CAACK,QAAT,GAAoBC,GAApB,CAAwB,OAAxB,EAAiCC,YAAjC,CAA8C,SAA9C,EAAyDC,OAAzD,CAAiER,QAAQ,CAACS,IAAT,GAAgBC,WAAhB,CAA4BC,GAA7F,CAAjB;AACAP,IAAAA,QAAQ,CAACQ,EAAT,CAAY,OAAZ,EAAsBC,QAAD,IAAc;AACjC,YAAMC,QAAQ,GAAGD,QAAQ,CAACE,GAAT,EAAjB;AACA,UAAI,CAACD,QAAL,EAAe;AACf,YAAME,QAAQ,GAAGC,MAAM,CAACC,IAAP,CAAYJ,QAAZ,EAAsBK,GAAtB,CAA0BC,EAAE,KAAK;AAChDA,QAAAA,EADgD;AAEhD,WAAGN,QAAQ,CAACM,EAAD;AAFqC,OAAL,CAA5B,CAAjB;AAIAjB,MAAAA,QAAQ,CAACa,QAAD,CAAR;AACD,KARD;AASA,WAAO,MAAMZ,QAAQ,CAACiB,GAAT,EAAb;AACD,GAZQ,EAYP,EAZO,CAAT;;AAcA,QAAMC,YAAY,GAAGF,EAAE,IAAI;AACvBpB,IAAAA,QAAQ,CAACK,QAAT,GAAoBC,GAApB,CAAyB,SAAQc,EAAG,EAApC,EAAuCG,MAAvC;AACH,GAFD;;AAIA,sBACI;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAA,gBACKrB,KAAK,CAACiB,GAAN,CAAUK,IAAI,iBACX;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,qBACGA,IAAI,CAACC,KADR,eAEE;AAAM,YAAA,SAAS,EAAC,MAAhB;AAAA,sBAAwBD,IAAI,CAACE;AAA7B;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE;AAAQ,YAAA,OAAO,EAAE,MAAMJ,YAAY,CAACE,IAAI,CAACJ,EAAN,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,SAASI,IAAI,CAACJ,EAAd;AAAA;AAAA;AAAA;AAAA,cADH;AADL;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAgBD,CArCD;;GAAMnB,S;;KAAAA,S;AAuCN,eAAeA,SAAf","sourcesContent":["import { useEffect, useState } from 'react';\nimport firebase from \"firebase/app\";\n\nconst TimesList = () => {\n  const [times, setTimes] = useState([]);\n\n  useEffect(() => {\n    const timesRef = firebase.database().ref(\"times\").orderByChild(\"user_id\").equalTo(firebase.auth().currentUser.uid);\n    timesRef.on(\"value\", (snapshot) => {\n      const timesObj = snapshot.val();\n      if (!timesObj) return;\n      const newTimes = Object.keys(timesObj).map(id => ({\n        id,\n        ...timesObj[id]\n      }));\n      setTimes(newTimes);\n    });\n    return () => timesRef.off();\n  },[]);\n\n  const handleDelete = id => {\n      firebase.database().ref(`times/${id}`).remove();\n  }\n\n  return (\n      <div>\n          <h2>Times List</h2>\n          <ol>\n              {times.map(time => (\n                  <li key={time.id}>\n                      <div className=\"time-entry\">\n                        {time.title}\n                        <code className=\"time\">{time.time_seconds}</code>\n                        <button onClick={() => handleDelete(time.id)}>Delete</button>\n                      </div>\n                  </li>\n              ))}\n          </ol>\n      </div>\n  );\n};\n\nexport default TimesList;"]},"metadata":{},"sourceType":"module"}