{"ast":null,"code":"import _objectSpread from\"/Users/tomas/Documents/firebase/react/auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/tomas/Documents/firebase/react/auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import firebase from\"firebase/app\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TimesList=function TimesList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),times=_useState2[0],setTimes=_useState2[1];useEffect(function(){var timesRef=firebase.database().ref(\"times\").orderByChild(\"user_id\").equalTo(firebase.auth().currentUser.uid);timesRef.on(\"value\",function(snapshot){var timesObj=snapshot.val();if(!timesObj)return;var newTimes=Object.keys(timesObj).map(function(id){return _objectSpread({id:id},timesObj[id]);});setTimes(newTimes);});return function(){return timesRef.off();};},[]);var handleDelete=function handleDelete(id){firebase.database().ref(\"times/\".concat(id)).remove();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Times List\"}),/*#__PURE__*/_jsx(\"ol\",{children:times.map(function(time){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"time-entry\",children:[time.title,/*#__PURE__*/_jsx(\"code\",{className:\"time\",children:time.time_seconds}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDelete(time.id);},children:\"Delete\"})]})},time.id);})})]});};export default TimesList;","map":{"version":3,"sources":["/Users/tomas/Documents/firebase/react/auth/src/components/TimesList.jsx"],"names":["useEffect","useState","firebase","TimesList","times","setTimes","timesRef","database","ref","orderByChild","equalTo","auth","currentUser","uid","on","snapshot","timesObj","val","newTimes","Object","keys","map","id","off","handleDelete","remove","time","title","time_seconds"],"mappings":"iUAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,QAAP,KAAqB,cAArB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,cAA0BF,QAAQ,CAAC,EAAD,CAAlC,wCAAOG,KAAP,eAAcC,QAAd,eAEAL,SAAS,CAAC,UAAM,CACd,GAAMM,CAAAA,QAAQ,CAAGJ,QAAQ,CAACK,QAAT,GAAoBC,GAApB,CAAwB,OAAxB,EAAiCC,YAAjC,CAA8C,SAA9C,EAAyDC,OAAzD,CAAiER,QAAQ,CAACS,IAAT,GAAgBC,WAAhB,CAA4BC,GAA7F,CAAjB,CACAP,QAAQ,CAACQ,EAAT,CAAY,OAAZ,CAAqB,SAACC,QAAD,CAAc,CACjC,GAAMC,CAAAA,QAAQ,CAAGD,QAAQ,CAACE,GAAT,EAAjB,CACA,GAAI,CAACD,QAAL,CAAe,OACf,GAAME,CAAAA,QAAQ,CAAGC,MAAM,CAACC,IAAP,CAAYJ,QAAZ,EAAsBK,GAAtB,CAA0B,SAAAC,EAAE,wBAC3CA,EAAE,CAAFA,EAD2C,EAExCN,QAAQ,CAACM,EAAD,CAFgC,GAA5B,CAAjB,CAIAjB,QAAQ,CAACa,QAAD,CAAR,CACD,CARD,EASA,MAAO,kBAAMZ,CAAAA,QAAQ,CAACiB,GAAT,EAAN,EAAP,CACD,CAZQ,CAYP,EAZO,CAAT,CAcA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAF,EAAE,CAAI,CACvBpB,QAAQ,CAACK,QAAT,GAAoBC,GAApB,iBAAiCc,EAAjC,GAAuCG,MAAvC,GACH,CAFD,CAIA,mBACI,oCACI,kCADJ,cAEI,oBACKrB,KAAK,CAACiB,GAAN,CAAU,SAAAK,IAAI,qBACX,iCACI,aAAK,SAAS,CAAC,YAAf,WACGA,IAAI,CAACC,KADR,cAEE,aAAM,SAAS,CAAC,MAAhB,UAAwBD,IAAI,CAACE,YAA7B,EAFF,cAGE,eAAQ,OAAO,CAAE,yBAAMJ,CAAAA,YAAY,CAACE,IAAI,CAACJ,EAAN,CAAlB,EAAjB,oBAHF,GADJ,EAASI,IAAI,CAACJ,EAAd,CADW,EAAd,CADL,EAFJ,GADJ,CAgBD,CArCD,CAuCA,cAAenB,CAAAA,SAAf","sourcesContent":["import { useEffect, useState } from 'react';\nimport firebase from \"firebase/app\";\n\nconst TimesList = () => {\n  const [times, setTimes] = useState([]);\n\n  useEffect(() => {\n    const timesRef = firebase.database().ref(\"times\").orderByChild(\"user_id\").equalTo(firebase.auth().currentUser.uid);\n    timesRef.on(\"value\", (snapshot) => {\n      const timesObj = snapshot.val();\n      if (!timesObj) return;\n      const newTimes = Object.keys(timesObj).map(id => ({\n        id,\n        ...timesObj[id]\n      }));\n      setTimes(newTimes);\n    });\n    return () => timesRef.off();\n  },[]);\n\n  const handleDelete = id => {\n      firebase.database().ref(`times/${id}`).remove();\n  }\n\n  return (\n      <div>\n          <h2>Times List</h2>\n          <ol>\n              {times.map(time => (\n                  <li key={time.id}>\n                      <div className=\"time-entry\">\n                        {time.title}\n                        <code className=\"time\">{time.time_seconds}</code>\n                        <button onClick={() => handleDelete(time.id)}>Delete</button>\n                      </div>\n                  </li>\n              ))}\n          </ol>\n      </div>\n  );\n};\n\nexport default TimesList;"]},"metadata":{},"sourceType":"module"}